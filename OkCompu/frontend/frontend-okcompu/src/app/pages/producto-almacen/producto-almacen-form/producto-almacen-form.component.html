<!-- components/producto-almacen/producto-almacen-form.component.html -->  
<div class="form-container mat-elevation-z8">  
    <h2>{{ isEditing ? 'Editar' : 'Nuevo' }} Stock en Almacén</h2>  
    
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-grid">  
      <mat-form-field appearance="outline">  
        <mat-label>Producto</mat-label>  
        <mat-select formControlName="producto">  
          @for (producto of productos; track producto.idProducto) {  
            <mat-option [value]="producto.idProducto">  
              {{producto.descripcion}}  
            </mat-option>  
          }  
        </mat-select>  
        @if (form.get('producto')?.hasError('required') && form.get('producto')?.touched) {  
          <mat-error>El producto es requerido</mat-error>  
        }  
      </mat-form-field>  
  
      <mat-form-field appearance="outline">  
        <mat-label>Almacén</mat-label>  
        <mat-select formControlName="almacen">  
          @for (almacen of almacenes; track almacen.idAlmacen) {  
            <mat-option [value]="almacen.idAlmacen">  
              {{almacen.descripcion}}  
            </mat-option>  
          }  
        </mat-select>  
        @if (form.get('almacen')?.hasError('required') && form.get('almacen')?.touched) {  
          <mat-error>El almacén es requerido</mat-error>  
        }  
      </mat-form-field>  
  
      <mat-form-field appearance="outline">  
        <mat-label>Cantidad</mat-label>  
        <input matInput type="number" formControlName="cantidad">  
        @if (form.get('cantidad')?.hasError('required') && form.get('cantidad')?.touched) {  
          <mat-error>La cantidad es requerida</mat-error>  
        }  
        @if (form.get('cantidad')?.hasError('min')) {  
          <mat-error>La cantidad debe ser mayor a 0</mat-error>  
        }  
      </mat-form-field>  
  
      <div class="form-actions">  
        <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">  
          {{ isEditing ? 'Actualizar' : 'Guardar' }}  
        </button>  
        <button mat-raised-button type="button" (click)="resetForm()">  
          Cancelar  
        </button>  
      </div>  
    </form>  
  </div>